(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{204:function(a,s,t){"use strict";t.r(s);var e=t(28),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"树莓派使用cron安排任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#树莓派使用cron安排任务"}},[a._v("#")]),a._v(" 树莓派使用Cron安排任务")]),a._v(" "),t("p",[a._v("Cron是在Unix系统上配置计划任务的工具。它用于计划命令或脚本以固定的间隔定期运行。任务范围包括每天午夜备份用户的主文件夹到每小时记录CPU信息，这些cron都可以胜任。")]),a._v(" "),t("p",[t("code",[a._v("crontab")]),a._v("（cron表）命令用于编辑正在运行的计划任务列表，并且是按用户执行的；每个用户（包括"),t("code",[a._v("root")]),a._v("）都有自己的"),t("code",[a._v("crontab")]),a._v("。")]),a._v(" "),t("h2",{attrs:{id:"cron-图形界面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cron-图形界面"}},[a._v("#")]),a._v(" Cron 图形界面")]),a._v(" "),t("p",[a._v("通过安装"),t("code",[a._v("gnome-schedule")]),a._v("软件包，可以使用Cron的图形应用程序：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" gnome-schedule\n")])])]),t("p",[a._v("然后，您可以从主菜单启动程序“ "),t("strong",[a._v("计划任务")]),a._v(" ”。")]),a._v(" "),t("h2",{attrs:{id:"编辑crontab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编辑crontab"}},[a._v("#")]),a._v(" 编辑crontab")]),a._v(" "),t("p",[t("code",[a._v("crontab")]),a._v("使用"),t("code",[a._v("-e")]),a._v("标志运行以编辑cron表：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("crontab")]),a._v(" -e\n")])])]),t("h3",{attrs:{id:"选择编辑器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#选择编辑器"}},[a._v("#")]),a._v(" 选择编辑器")]),a._v(" "),t("p",[a._v("首次运行时"),t("code",[a._v("crontab")]),a._v("，系统会提示您选择一个编辑器。如果不确定使用哪个"),t("code",[a._v("nano")]),a._v("，请按"),t("code",[a._v("Enter")]),a._v("。")]),a._v(" "),t("h3",{attrs:{id:"添加计划任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加计划任务"}},[a._v("#")]),a._v(" 添加计划任务")]),a._v(" "),t("p",[a._v("Cron条目的布局由六个部分组成：分钟，小时，每月的某天，一年中的某月，一周中的某天以及要执行的命令。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# m h  dom mon dow   command")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# * * * * *  command to execute")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ┬ ┬ ┬ ┬ ┬")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# │ │ │ │ │")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# │ │ │ │ │")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# │ │ │ │ └───── 星期 (0 - 7) (0到6代表周天到周六,也可以直接使用周几的英文名称;7代表周天)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# │ │ │ └────────── 月份 (1 - 12)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# │ │ └─────────────── 每月的几号 (1 - 31)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# │ └──────────────────── 小时 (0 - 23)")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# └───────────────────────── 分钟 (0 - 59)")]),a._v("\n")])])]),t("p",[a._v("例如：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" * * *  /home/pi/backup.sh\n")])])]),t("p",[a._v("该cron条目将在每天午夜（0点00分）运行脚本"),t("code",[a._v("backup.sh")]),a._v("。")]),a._v(" "),t("h3",{attrs:{id:"查看预定的任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看预定的任务"}},[a._v("#")]),a._v(" 查看预定的任务")]),a._v(" "),t("p",[a._v("使用以下命令查看当前保存的计划任务：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("crontab")]),a._v(" -l\n")])])]),t("h3",{attrs:{id:"树莓派启动后运行任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#树莓派启动后运行任务"}},[a._v("#")]),a._v(" 树莓派启动后运行任务")]),a._v(" "),t("p",[a._v("要在每次树莓派启动时运行命令，请写"),t("code",[a._v("@reboot")]),a._v("而不是时间和日期。例如：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("@reboot python /home/pi/myscript.py\n")])])]),t("p",[a._v("每次树莓派重新启动时，这将运行您的Python脚本。如果您希望在Raspberry Pi继续启动时在后台运行命令，请"),t("code",[a._v("&")]),a._v("在该行的末尾添加一个空格，如下所示：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("@reboot python /home/pi/myscript.py &\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);